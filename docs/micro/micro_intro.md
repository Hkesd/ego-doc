# 架构演进
互联网的WEB架构演进可以分为四个阶段：单体应用时期、垂直应用时期、微服务的物理机时期、微服务的云原生时期。

单体应用时期一般处于一个公司的创业初期，他的好处就是运维简单、开发快速、能够快速适应业务需求变化。但是当业务发展到一定程度后，会发现许多业务会存在一些莫名奇妙的耦合，例如你改一个支付模块的函数，登录挂了。为了避免这种耦合，会将一些功能模块做一个垂直拆分做一些业务隔离，功能相互不影响。但后来会发现许多的功能和API需要复用，这种垂直拆分的隔离性太强，又需要逐渐往微服务迁移。进入到微服务的物理机时期，我们一方面要偿还之前技术债务，另一方面要针对微服务的复杂性对基础设施做一些改造，在微服务的改造时期是整个技术架构最混乱和最复杂的阶段。只有经历了这个阶段的改造，我们才能明白微服务如果没有上云原生面临的运维成本、开发成本、管理成本等等。当我们开始微服务的云原生时期，我们需要将我们的所有微服务实现All In K8S，这个不是只把应用运行在K8S上就叫All In K8S。而是应该将微服务的部署、编排、配置、监控、日志全部采用K8S的组件，我们能才能叫云原生，当你实现了这一整套云原生，你会发现微服务架构会变的统一、简单、运维更高效。

# 什么是微服务
虽然架构演进最终会进化到微服务，但很多公司但微服务并不一定做的很好，有可能只做到一个初级阶段，就认为微服务做完了。所以在这里我们要问下自己什么是微服务？

网上其实介绍什么是微服务的文章是非常多的。通常看完后，会使大部分人认为实现了服务按API拆分、用容器做好隔离就是实现了微服务。而实际落地一个微服务其实没有这么简单，微服务的体系我们可以类比成一个冰山模型。在最上层最容易看到的是我们冰山顶部，是框架和容器技术，而隐藏在水面以下的则是冰山底部。隐藏的部分往往是我们投入最多的一些

